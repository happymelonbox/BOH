{"ast":null,"code":"var _jsxFileName = \"/Users/Justin/Development/code/phase2/BIGPROJECT/boh/boh/src/components/Stock/AddStockItem.js\";\nimport React from 'react';\nimport { baseURL } from '../..';\nimport { stockEndPoint } from '../..';\nimport { today } from '../Stock/StocktakeForm';\nimport AddItemForm from './AddItemForm';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass AddStockItem extends React.Component {\n  constructor() {\n    super();\n\n    this.handleAddStock = event => {\n      const value = event.target.value;\n      const name = event.target.name.toString();\n      const increment = this.props.stocktake[0].products.length + 1;\n\n      if (value !== \"Select a location\") {\n        this.setState({\n          pendingStock: {\n            id: increment,\n            ...this.state.pendingStock,\n            [name]: value,\n            \"type\": \"Supplier\"\n          }\n        }, () => {\n          console.log(this.state.pendingStock);\n        });\n      }\n    };\n\n    this.handleSubmitStock = () => {\n      const master = this.props.stocktake[0].products;\n      master.push(this.state.pendingStock);\n      fetch(`${baseURL}${stockEndPoint}/master`, {\n        method: \"PATCH\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          \"id\": \"master\",\n          \"date\": today,\n          \"products\": master\n        })\n      }).then(resp => resp.json()).then(data => {\n        console.log(data);\n        this.props.updateStocktake();\n      });\n    };\n\n    this.state = {\n      pendingStock: {}\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(AddItemForm, {\n        handleAddStock: this.handleAddStock,\n        handleSubmitStock: this.handleSubmitStock\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default AddStockItem;","map":{"version":3,"sources":["/Users/Justin/Development/code/phase2/BIGPROJECT/boh/boh/src/components/Stock/AddStockItem.js"],"names":["React","baseURL","stockEndPoint","today","AddItemForm","AddStockItem","Component","constructor","handleAddStock","event","value","target","name","toString","increment","props","stocktake","products","length","setState","pendingStock","id","state","console","log","handleSubmitStock","master","push","fetch","method","headers","body","JSON","stringify","then","resp","json","data","updateStocktake","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,OAAxB;AACA,SAASC,aAAT,QAA8B,OAA9B;AACA,SAASC,KAAT,QAAsB,wBAAtB;AAEA,OAAOC,WAAP,MAAwB,eAAxB;;;AAEA,MAAMC,YAAN,SAA2BL,KAAK,CAACM,SAAjC,CAA0C;AACtCC,EAAAA,WAAW,GAAE;AACT;;AADS,SAMbC,cANa,GAMKC,KAAD,IAAU;AACvB,YAAMC,KAAK,GAAGD,KAAK,CAACE,MAAN,CAAaD,KAA3B;AACA,YAAME,IAAI,GAAGH,KAAK,CAACE,MAAN,CAAaC,IAAb,CAAkBC,QAAlB,EAAb;AACA,YAAMC,SAAS,GAAG,KAAKC,KAAL,CAAWC,SAAX,CAAqB,CAArB,EAAwBC,QAAxB,CAAiCC,MAAjC,GAA0C,CAA5D;;AACA,UAAGR,KAAK,KAAK,mBAAb,EAAiC;AAC7B,aAAKS,QAAL,CAAc;AACVC,UAAAA,YAAY,EAAC;AACTC,YAAAA,EAAE,EAAEP,SADK;AAET,eAAG,KAAKQ,KAAL,CAAWF,YAFL;AAGT,aAACR,IAAD,GAAQF,KAHC;AAIT,oBAAQ;AAJC;AADH,SAAd,EAOE,MAAI;AAACa,UAAAA,OAAO,CAACC,GAAR,CAAY,KAAKF,KAAL,CAAWF,YAAvB;AAAqC,SAP5C;AAQH;AACJ,KApBY;;AAAA,SAsBbK,iBAtBa,GAsBO,MAAM;AACtB,YAAMC,MAAM,GAAG,KAAKX,KAAL,CAAWC,SAAX,CAAqB,CAArB,EAAwBC,QAAvC;AACAS,MAAAA,MAAM,CAACC,IAAP,CAAY,KAAKL,KAAL,CAAWF,YAAvB;AACAQ,MAAAA,KAAK,CAAE,GAAE3B,OAAQ,GAAEC,aAAc,SAA5B,EAAsC;AACvC2B,QAAAA,MAAM,EAAE,OAD+B;AAEvCC,QAAAA,OAAO,EAAE;AACL,0BAAgB;AADX,SAF8B;AAKvCC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACjB,gBAAM,QADW;AAEjB,kBAAQ9B,KAFS;AAGjB,sBAAYuB;AAHK,SAAf;AALiC,OAAtC,CAAL,CAUCQ,IAVD,CAUMC,IAAI,IAAEA,IAAI,CAACC,IAAL,EAVZ,EAWCF,IAXD,CAWMG,IAAI,IAAE;AACRd,QAAAA,OAAO,CAACC,GAAR,CAAYa,IAAZ;AACA,aAAKtB,KAAL,CAAWuB,eAAX;AAA6B,OAbjC;AAcH,KAvCY;;AAET,SAAKhB,KAAL,GAAW;AACPF,MAAAA,YAAY,EAAE;AADP,KAAX;AAGH;;AAmCDmB,EAAAA,MAAM,GAAE;AACJ,wBACI;AAAA,6BACI,QAAE,WAAF;AAAc,QAAA,cAAc,EAAE,KAAK/B,cAAnC;AAAmD,QAAA,iBAAiB,EAAE,KAAKiB;AAA3E;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADJ;AAKH;;AA/CqC;;AAiD1C,eAAepB,YAAf","sourcesContent":["import React from 'react'\nimport { baseURL } from '../..'\nimport { stockEndPoint } from '../..'\nimport { today } from '../Stock/StocktakeForm'\n\nimport AddItemForm from './AddItemForm'\n\nclass AddStockItem extends React.Component{\n    constructor(){\n        super()\n        this.state={\n            pendingStock: {}\n        }\n    }\n    handleAddStock = (event) =>{\n        const value = event.target.value\n        const name = event.target.name.toString()\n        const increment = this.props.stocktake[0].products.length + 1\n        if(value !== \"Select a location\"){\n            this.setState({\n                pendingStock:{\n                    id: increment,\n                    ...this.state.pendingStock,\n                    [name]: value,\n                    \"type\": \"Supplier\"\n                }\n            },()=>{console.log(this.state.pendingStock)})\n        }\n    }\n\n    handleSubmitStock = () => {\n        const master = this.props.stocktake[0].products\n        master.push(this.state.pendingStock)\n        fetch(`${baseURL}${stockEndPoint}/master`, {\n            method: \"PATCH\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                \"id\": \"master\",\n                \"date\": today,\n                \"products\": master})\n        })\n        .then(resp=>resp.json())\n        .then(data=>{\n            console.log(data)\n            this.props.updateStocktake()})\n    }\n    render(){\n        return(\n            <div>\n                < AddItemForm handleAddStock={this.handleAddStock} handleSubmitStock={this.handleSubmitStock}/>\n            </div>\n        )\n    }\n}\nexport default AddStockItem"]},"metadata":{},"sourceType":"module"}